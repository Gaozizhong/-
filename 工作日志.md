# 高子中工作日志

## 1、第一周（2019/6/24-2019/6/30）

第一周的工作就是对公司环境和业务等方面进行熟悉，对公司的开发环境GitLab使用的Git进行了一次比较全面的学习（之前对git的使用还是挺多的）

由于在上半年进行了长达半年的自学，对flask还是比较了解的。自己在第二天就开始了对于web端ccmaster项目的开发。利用自己之前学到的技术和做过的项目框架对本项目的原始代码进行了**整体框架的重构（本周工作重点成果）**，并按照接口文档的要求逐步的进行接口开发。

## 2、第二周（2019/7/1-2019/7/7）

利用上周的整个框架继续对接口文档中的接口进行开发。到周四时基本完成接口文档中现有的接口编写。在周同前辈的指导下对Windows系统上的部署进行了学习，并部署完成（其中遇到了很多问题感谢同哥的指导）。

周五时对ccmaster软件进行了学习，了解了大概的使用流程。并尝试被其所带的SDK库导入项目（其中遇到了很多问题，在解决问题的过程中对一些技术知识进行了学习）。

## 3、第三周（2019/7/8-2019/7/14）

### 2019/7/8

**上午**：

1. 解决SDK导入不了环境问题（最后发现时新版Pycharm的问题）。

2. 软件功能、SDK文档学习。

**下午**：

1. 继续SDK文档学习、SDK测试。

2. 和同哥及后端组员进行关于项目的讨论。

3. 开会对自己未来要做的事进行了初步的了解。

### 2019/7/9

**上午**：

1. 工作会议、任务分配。 

2. SDK文档学习、例程学习。

**下午**：

1. 继续SDK文档学习、例程学习。

2. 和同哥及后端组员讨论项目功能的实现方法，以及对所用其他技术的了解。

3. 与简单前端进行接口对接。

4. 尝试进行编写总的功能接口。

5. 简单的进行功能接口拆分测试。

### 2019/7/10

**上午**：

1. 与简单前端进行接口对接。

2. ccmaster功能接口的编写（可以自己上传照片跑出模型）。

3. 一同学习团队协作软件teambition的使用。

**下午**：

1. 继续SDK文档学习、例程学习，完善ccmaster功能接口。

2. 了解接口文档的相关技术（Markdown）。

3. 与前端测试一些重要接口，以便进行简单的演示。

4. 修改API接口文档的设计，并且准备开始着手编写文档。

### 2019/7/11

**上午**：

1. 与前端进行接口对接的最终演示测试，并且完善测试用的文档。

2. 部署测试版本的接口。

3. 继续编写API文档。

**下午**：

1. 梳理、编写项目的数据模型文档。

2. 梳理接口，用脑图进行记录。

3. 继续编写API文档。

4. 在编写文档的过程中不断对项目的接口进行优化、修改。

### 2019/7/12

**上午：**

1. 根据接口脑图修改相应的接口文档。

2. 根据接口文档来优化、修改相应的接口代码。

3. 先弄一个获取用户ID的临时接口。

**下午：**

1. 继续上午的接口任务。

2. 代码Review:解释自己编写的项目框架和代码内容。

3. 听前端所做项目的数据介绍，了解以后可能用到的数据。

## 4、第四周（2019/7/15-2019/7/21）

### 2019/7/15

**上午**：

1. 接口文档的编写。

2. 在编写文档的过程中对接口进行调整。

3. 添加新的表和新的接口逻辑。

4. 增加user_id的验证逻辑（有Token之后再做些许的修改即可）。

**下午**：

1. 增加at_setting和reconstruction_setting两个视图函数的文件。

2. 对其他接口进行user_id的验证，增加验证逻辑。

3. 其他接口相关工作。

### 2019/7/16

**上午**：

1. 接口文档编写，相关接口修改优化。

2. 整理机房的各种电线。

3. 继续接口相关工作的编写。

**下午：**

1. 完成接口文档编写，相关接口修改优化。

2. 学习REST API测试的相关知识。

### 2019/7/17

**上午：**

1. 实现cesium数据集的地址存储。

2. 实现cesium数据的加载。

3. 实现cesium模型查看地址的返回。

**下午：**

1. model模型类的设计和创建，以及设计实现它和project表的关联关系。

2. 学习了一下关于REST API测试的一些课程。对REST API接口的设计和原理有了更深刻的认识，有收获。

3. 学习关于Token的一些知识，准备开始编写token。

### 2019/7/18

**上午：**

1. 继续学习关于Token的一些知识。

2. 尝试开始编写token。

3. 学习关于权限管理的知识，开始准备加入此功能。

**下午：**

1. 对用户注册时传来的密码进行加密存储

2. 继续编写token。

3. 编写和token配对的@auth拦截器。

4. 尝试开始编写权限管理功能。

5. 在接口中添加token和权限管理的相关功能。

6. 学习一些其他的储备知识。

### 2019/7/19

**上午：**

1. 把接口权限先休整一下，让其达到可以测试的地步。

2. 编写关于Token的接口文档。

3. 修改可以在put接口中直接修改各种name。

4. 把管理员的表和用户表合并一下。

5. 继续给接口中添加权限和token。

**下午：**

1. 继续向接口添加token和权限。

2. 重新借此机会梳理一遍接口。

## 5、第五周（2019/7/22-2019/7/26）

### 2019/7/22

**上午：**

1. 梳理3D项目的需求和功能。

2. 简单梳理3D项目所需要的接口。

3. 继续向接口添加token和权限。

**下午：**

1. 继续向接口添加token和权限。

2. 拆分admin接口文件，是整个项目的接口更加RESTful。

3. 办理关于人事档案的一些事情（处理档案被拆的意外）。

### 2019/7/23

**上午：**

1. 继续向接口添加token和权限。

2. 优化接口和接口文档。

**下午：**

1. 继续优化接口和接口文档。

2. 搭建GIS3D项目框架。

### 2019/7/24

**上午：**

1. 对webcc项目进行接口测试。

2. 测出Bug并对其进行修改。

3. 同时修改项目的Postman测试接口和接口文档。

**下午：**

1. 继续进行上午的工作。

2. 学习Flask-Migrate扩展的使用。

3. 对webcc项目进行重新部署（成功）。

4. 优化GIS3D项目的工程的框架。

### 2019/7/25

**上午：**

1. 更改webcc的部署数据库相关设置。

2. 学习Flask-Migrate扩展的使用。

3. 修改GIS3D的模型类，完善此项目的框架结构。

**上午：**

1. 修改并学习了解新项目的模型类。

2. 编写新项目的Token验证系统。

3. 编写新项目的几个接口。

### 2019/7/26

**上午：**

1. 编写新项目的超级管理员的创建接口。

2. 编写新项目中关于公司管理员的接口。

3. 接口交给家辉编写，自己开始拆分工程运行接口。

**上午：**

1. 重新使用pipfile文件来管理包（重建环境）。
2. 给两个项目添加flask-migrate插件并测试。
3. 改写新项目的接口，并进行框架的优化。

## 6、第六周（2019/7/29-2019/8/2）

### 2019/7/29

**上午：**

1. 测试优化新项目接口，但是出现代码冲突的问题。

2. 先让家辉写代码，之后再测试优化新项目的接口。

3. 拆分webcc工程接口，优化升级。

4. 学习token更安全的验证方式，准备往两个项目中增加。

**下午：**

1. 修改优化GIS3D的技术文档，便于家辉的代码编写和前端同学的开发（要学会更好的合作）。

2. 继续学习token更安全的验证方式，准备往两个项目中增加。

3. 修改家辉写好的一部分接口。

### 2019/7/30

**上午：**

1. 拉取家辉昨天写的接口，并对这些接口进行修改、优化。

2. 编写相应的测试文档和Postman测试用例。

**下午：**

1. 继续对administration模块中的接口进行修改、并编写相应的文档、用例。
2. 梳理GIS3D的模型之间的关系。

### 2019/7/31

**上午：**

1. 接口潜在逻辑添加、修改。

2. 并对其进行测试，修改相应的文档、用例。

**下午：**

1. 继续上午的工作，并根据接口对接情况进行接口优化。

2. 行政管理部分接口修改、优化、测试完成，开始弄工程相关接口。

### 2019/8/1

**上午：**

1. 接口对接、调试和修改。

2. 对project下的接口编写，调试。

3. 对project_user下的接口编写，调试。

**下午：**

1. 继续对project_user下的接口编写，调试。

2. 讨论GIS3D项目的具体需求，更正自己的错误想法。

### 2019/8/2

**上午：**

1. 与前端同学进行接口对接，并对接口进行修改。

2. webcc项目进行接口拆分。

**下午：**

1. 继续对接接口。

2. 上传头像接口进行初步编写，用的方法还不太好，需要改进。

## 6、第七周（2019/8/5-2019/8/9）

### 2019/8/5

**上午：**

1. 研究flask图片上传更好的方法，去实现头像上传。

2. 研究token改进方法。

3. 与前端同学进行接口对接。

**下午：**

1. 修改头像上传方法。
2. 进行接口对接，学习项目部署的新技术。
3. 查看webcc协调器的代码，并进行学习。
4. 学习协调器用到的Redis数据库。

### 2019/8/6

**上午：**

1. 与前端进行接口对接，并进行不断的接口修改。

2. 继续学习webcc的协调器项目，学习其中的一些技术。

**下午：**

1. 接口对接，修改bug。

2. 学习webcc协调器使用的celery技术和Redis数据库。

### 2019/8/7

**上午：**

1. 继续celery的学习，并增强自己的Redis学习。

2. 继续对接接口，并对之进行修改。

**下午：**

1. 学习Python的Socket编程，准备连接webcc和协调器。

2. 开始把webcc工程的运行模块拆分放入协调器中。

### 2019/8/8

**上午：**

1. 继续增加webcc的协调器功能。

2. 编写postman接口用例和接口文档。

**下午：**

1. 解决问题Working outside of application context。

2. 加入flask-celery-helper插件，解决application context的问题（未成功）。

3. 上传图片成功，待解决返回图片的问题。

4. 使用flask文档中的方法解决falsk上下文的问题（但是还是没有成功）。

### 2019/8/9

**上午：**

1. 解决celery在flask上下文中使用的问题（尝试了许多方法没有解决，请求同哥帮助）。

2. 解决图片存储的问题。

3. 继续和刘正阳对接接口。

**下午：**

1. 
